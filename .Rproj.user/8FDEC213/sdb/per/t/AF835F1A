{
    "collab_server" : "",
    "contents" : "#' @title Show Statistical Representations\n#' @description Present statistical representations of the proportions of female and\n#'     male Williams students who graduated with Latin honors in each year from 2003\n#'     to 2016. The function uses internal datasets in the package. The datasets are \n#'     dataframes with students' name, genders, and Latin honors they received. Using \n#'     provided datasets saves computation time.\n#'\n#'     Five options are available: five-number summary, box plot, hypothesis test, \n#'     time plot, and annual reports.\n#'\n#' @usage stat_rep(type = c(\"prop.sum\", \"time.plot\", \"box.plot\", \"t.testing\", \"annual\"))\n#' @param type Type of statistical representation to be shown.\n#'     Pick \"prop.sum\" for five-number summary.\n#'     Pick \"box.plot\" for box plot.\n#'     Pick \"t.testing\" for hypothesis test.\n#'     Pick \"time.plot\" for proportions over time.\n#'     Pick \"annual\" for annual information.\n#' @return Statistical representation according to specified type\n#' @import graphics stats utils ggplot2\n#' @export\nstat_rep <- function(type){\n  \n  type <- match.arg(type, c(\"prop.sum\", \"time.plot\", \"box.plot\", \"t.testing\", \"annual\"),\n                    several.ok = FALSE)\n  \n  #import datasets\n  data( wstudent.three, wstudent.four, wstudent.five, wstudent.six,\n        wstudent.seven, wstudent.eight, wstudent.nine, wstudent.ten,\n        wstudent.eleven, wstudent.twelve, wstudent.thirteen, \n        wstudent.fourteen, wstudent.fifteen, wstudent.sixteen, \n        all.ratio)\n\n  if(type == \"prop.sum\"){\n    \n    #1. Summary\n    sapply(all.ratio[,-1], summary)\n    \n  } else if (type == \"box.plot\"){\n\n    #2. Box plot\n    # boxplot: showing the mean of male proportion is less than of female proportion\n    graphics::boxplot(all.ratio$female, all.ratio$male, names = c(\"female\", \"male\"),\n            col = c(\"violetred2\", \"limegreen\"),\n            ylab = \"Proportion\", main = \"Comparision of the Proportions\")\n\n  } else if (type == \"t.testing\"){\n\n    #3. t-testing\n    stats::t.test(all.ratio$female, all.ratio$male, \"greater\")\n\n  } else if (type == \"time.plot\"){\n\n    #4. time plot\n    #year <- c(2003:2016)\n    #dat <- data.frame(year, frame)\n    ggplot2::ggplot(data = all.ratio) +\n      ggplot2::geom_point(ggplot2::aes(x = all.ratio$classyear, y = all.ratio$female, col = \"female\")) +\n      ggplot2::geom_line(ggplot2::aes(x = all.ratio$classyear, y = all.ratio$female), col = \"violetred2\") +\n      ggplot2::geom_point(ggplot2::aes(x = all.ratio$classyear, y= all.ratio$male, col =\"male\")) +\n      ggplot2::geom_line(ggplot2::aes(x = all.ratio$classyear, y= all.ratio$male), col = \"limegreen\") +\n      ggplot2::scale_color_manual(name = \"Gender\", values  = c(\"violetred2\",\"limegreen\")) +\n      ggplot2::ylim(c(0.25,0.45)) + ggplot2::ggtitle(\"Porportions Over Time\") +\n      ggplot2::labs( x = \"Year\", y = \"Proportion\")\n\n  }  else if (type == \"annual\"){\n    list(stats::addmargins(table(wstudent.three[,3:4], \n                                 dnn = list(\"honor\", \"class of 2003 gender\"))[-4,], 1),\n         stats::addmargins(table(wstudent.four[,3:4], \n                                 dnn = list(\"honor\", \"class of 2004 gender\"))[-4,], 1),\n         stats::addmargins(table(wstudent.five[,3:4], \n                                 dnn = list(\"honor\", \"class of 2005 gender\"))[-4,], 1),\n         stats::addmargins(table(wstudent.six[,3:4], \n                                 dnn = list(\"honor\", \"class of 2006 gender\"))[-4,], 1),\n         stats::addmargins(table(wstudent.seven[,3:4], \n                                 dnn = list(\"honor\", \"class of 2007 gender\"))[-4,], 1),\n         stats::addmargins(table(wstudent.eight[,3:4], \n                                 dnn = list(\"honor\", \"class of 2008 gender\"))[-4,], 1),\n         stats::addmargins(table(wstudent.nine[,3:4], \n                                 dnn = list(\"honor\", \"class of 2009 gender\"))[-4,], 1),\n         stats::addmargins(table(wstudent.ten[,3:4], \n                                 dnn = list(\"honor\", \"class of 2010 gender\"))[-4,], 1),\n         stats::addmargins(table(wstudent.eleven[,3:4], \n                                 dnn = list(\"honor\", \"class of 2011 gender\"))[-4,], 1),\n         stats::addmargins(table(wstudent.twelve[,3:4], \n                                 dnn = list(\"honor\", \"class of 2012 gender\"))[-4,], 1),\n         stats::addmargins(table(wstudent.thirteen[,3:4], \n                                 dnn = list(\"honor\", \"class of 2013 gender\"))[-4,], 1),\n         stats::addmargins(table(wstudent.fourteen[,3:4], \n                                 dnn = list(\"honor\", \"class of 2014 gender\"))[-4,], 1),\n         stats::addmargins(table(wstudent.fifteen[,3:4], \n                                 dnn = list(\"honor\", \"class of 2015 gender\"))[-4,], 1),\n         stats::addmargins(table(wstudent.sixteen[,3:4], \n                                 dnn = list(\"honor\", \"class of 2016 gender\"))[-4,], 1))\n  }\n}\n\n\n\n",
    "created" : 1486310479012.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1625815761",
    "id" : "AF835F1A",
    "lastKnownWriteTime" : 1486317966,
    "last_content_update" : 1486317966475,
    "path" : "C:/Users/pj4/Desktop/wstudent/R/stat_rep.R",
    "project_path" : "R/stat_rep.R",
    "properties" : {
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}